<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="cn.xdc.dao.Inv_UserDao">

	<resultMap type="Inv_User" id="inv_UserMap">
		<result column="invId" property="invId"/>
		<result column="userId" property="userId"/>
		<result column="role" property="role"/>
		<result column="distributionNum" property="distributionNum"/>
		<result column="comment" property="comment"/>
	</resultMap>

	<sql id="selector">
		select *
		from gy_inv_user
	</sql>

	<!-- 查询条件 -->
	<sql id="where">
		<where>
			<if test="invId != null">
				and invId = #{invId}
			</if>
			<if test="userId != null">
				<if test="userIdLike == false">
					and userId = #{userId}
				</if>
				<if test="userIdLike == true">
					and userId like "%"#{userId}"%"
				</if>
			</if>
			<if test="role != null">
				<if test="roleLike == false">
					and role = #{role}
				</if>
				<if test="roleLike == true">
					and role like "%"#{role}"%"
				</if>
			</if>
			<if test="distributionNum != null">
				<if test="distributionNumLike == false">
					and distributionNum = #{distributionNum}
				</if>
				<if test="distributionNumLike == true">
					and distributionNum like "%"#{distributionNum}"%"
				</if>
			</if>
			<if test="comment != null">
				<if test="commentLike == false">
					and comment = #{comment}
				</if>
				<if test="commentLike == true">
					and comment like "%"#{comment}"%"
				</if>
			</if>
		</where>
	</sql>

	<!-- Order by -->
	<sql id="orderBy">
	</sql>

	<!-- 查询集合 -->
	<select id="getInv_UserList" parameterType="Inv_UserQuery" resultMap="inv_UserMap">
		<include refid="selector"/>
		<include refid="where"/>
		<include refid="orderBy"/>
	</select>

	<!-- 添加 -->
	<insert id="addInv_User" parameterType="Inv_User">
		insert into gy_inv_user
		<trim prefix="(" suffix=")">
				invId,
				userId,
				role,
				distributionNum,
				comment
		</trim>
		values
		<trim prefix="(" suffix=")">
				#{invId},
				#{userId},
				#{role},
				#{distributionNum},
				#{comment}
		</trim>
	</insert>

	<!-- 删除 通过主键 -->
	<delete id="deleteInv_UserByKey" parameterType="Integer">
		delete from gy_inv_user
		<where>
			invId = #{invId}
		</where>
	</delete>

	<!-- 批量删除 -->
	<delete id="deleteInv_UserByKeys" parameterType="Integer">
		delete from gy_inv_user
		<where>
			invId in
			<foreach collection="array" item="invId" open="(" close=")" separator="," >
				#{invId}
			</foreach>
		</where>
	</delete>

	<!-- 修改 -->
	<update id="updateInv_UserByKey" parameterType="Inv_User">
		update gy_inv_user
		<set>
			<if test="userId != null">
				userId = #{userId},
			</if>
			<if test="role != null">
				role = #{role},
			</if>
			<if test="distributionNum != null">
				distributionNum = #{distributionNum},
			</if>
			<if test="comment != null">
				comment = #{comment},
			</if>
		</set>
		<where>
			invId = #{invId}
		</where>
	</update>

	<!-- 通过ID查询一个品牌对象 -->
	<select id="getInv_UserByKey" parameterType="Integer" resultMap="inv_UserMap">
		select *
		from gy_inv_user
		<where>
			invId = #{invId}
		</where>
	</select>

</mapper>

